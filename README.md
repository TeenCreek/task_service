# Async Task Service üöÄ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏–µ–π.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è ‚öôÔ∏è

- Docker
- Docker Compose
- Python
- PostgreSQL
- RabbitMQ

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —á–µ—Ä–µ–∑ Docker üê≥

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```
docker-compose up --build -d
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

```
docker-compose ps
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```
docker-compose down
```

## –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö üóÑÔ∏è

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é

```
alembic revision --autogenerate -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

### –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

```
alembic upgrade head
```

## –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤ üì°

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

```
POST /api/v1/tasks
Content-Type: application/json

{
  "name": "–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ",
  "description": "–ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
  "priority": "HIGH"
}
```

### –û—Ç–≤–µ—Ç:

```
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "name": "–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ",
  "status": "PENDING",
  "priority": "HIGH",
  "created_at": "2024-03-15T10:30:00Z"
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á

```
GET /api/v1/tasks?status=COMPLETED&page=2&size=10
```

### –û—Ç–≤–µ—Ç:

```
{
  "items": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "name": "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ",
      "status": "COMPLETED",
      "priority": "MEDIUM",
      "created_at": "2024-03-14T15:45:00Z"
    }
  ],
  "total": 25,
  "page": 2,
  "size": 10
}
```

### –û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á–∏

```
DELETE /api/v1/tasks/550e8400-e29b-41d4-a716-446655440000
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ üß™

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```
pytest
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚öôÔ∏è

### .env —Ñ–∞–π–ª:

```
DEBUG=True
DB_HOST=db
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=tasks_db
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
DATABASE_URL=postgresql+asyncpg://postgres:password@db:5432/tasks_db
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ üìÇ

```
.
‚îú‚îÄ‚îÄ alembic/              # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ core/             # –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ db/               # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ repositories/     # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ routers/          # API —Ä–æ—É—Ç–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ schemas/          # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ services/         # –§–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îú‚îÄ‚îÄ tests/                # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ docker-compose.yml    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
```
